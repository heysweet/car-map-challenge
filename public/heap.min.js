(function(){var t,n,e,o,r,p,u,i,s,l,c,h,f,a,y;e=Math.floor,l=Math.min,n=function(t,n){return n>t?-1:t>n?1:0},s=function(t,o,r,p,u){var i;if(null==r&&(r=0),null==u&&(u=n),0>r)throw new Error("lo must be non-negative");for(null==p&&(p=t.length);p>r;)i=e((r+p)/2),u(o,t[i])<0?p=i:r=i+1;return[].splice.apply(t,[r,r-r].concat(o)),o},p=function(t,e,o){return null==o&&(o=n),t.push(e),a(t,0,t.length-1,o)},r=function(t,e){var o,r;return null==e&&(e=n),o=t.pop(),t.length?(r=t[0],t[0]=o,y(t,0,e)):r=o,r},i=function(t,e,o){var r;return null==o&&(o=n),r=t[0],t[0]=e,y(t,0,o),r},u=function(t,e,o){var r;return null==o&&(o=n),t.length&&o(t[0],e)<0&&(r=[t[0],e],e=r[0],t[0]=r[1],y(t,0,o)),e},o=function(t,o){var r,p,u,i,s,l;for(null==o&&(o=n),i=function(){l=[];for(var n=0,o=e(t.length/2);o>=0?o>n:n>o;o>=0?n++:n--)l.push(n);return l}.apply(this).reverse(),s=[],p=0,u=i.length;u>p;p++)r=i[p],s.push(y(t,r,o));return s},f=function(t,e,o){var r;return null==o&&(o=n),r=t.indexOf(e),-1!==r?(a(t,0,r,o),y(t,r,o)):void 0},c=function(t,e,r){var p,i,s,l,c;if(null==r&&(r=n),i=t.slice(0,e),!i.length)return i;for(o(i,r),c=t.slice(e),s=0,l=c.length;l>s;s++)p=c[s],u(i,p,r);return i.sort(r).reverse()},h=function(t,e,p){var u,i,c,h,f,a,y,d,g,v;if(null==p&&(p=n),10*e<=t.length){if(h=t.slice(0,e).sort(p),!h.length)return h;for(c=h[h.length-1],d=t.slice(e),f=0,y=d.length;y>f;f++)u=d[f],p(u,c)<0&&(s(h,u,0,null,p),h.pop(),c=h[h.length-1]);return h}for(o(t,p),v=[],i=a=0,g=l(e,t.length);g>=0?g>a:a>g;i=g>=0?++a:--a)v.push(r(t,p));return v},a=function(t,e,o,r){var p,u,i;for(null==r&&(r=n),p=t[o];o>e&&(i=o-1>>1,u=t[i],r(p,u)<0);)t[o]=u,o=i;return t[o]=p},y=function(t,e,o){var r,p,u,i,s;for(null==o&&(o=n),p=t.length,s=e,u=t[e],r=2*e+1;p>r;)i=r+1,p>i&&!(o(t[r],t[i])<0)&&(r=i),t[e]=t[r],e=r,r=2*e+1;return t[e]=u,a(t,s,e,o)},t=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=p,t.pop=r,t.replace=i,t.pushpop=u,t.heapify=o,t.updateItem=f,t.nlargest=c,t.nsmallest=h,t.prototype.push=function(t){return p(this.nodes,t,this.cmp)},t.prototype.pop=function(){return r(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return i(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return u(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return o(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return f(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var n;return n=new t,n.nodes=this.nodes.slice(0),n},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),function(t,n){return"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():t.Heap=n()}(this,function(){return t})}).call(this);